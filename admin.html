<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel | Free Vector Stock</title>
    <style>
        body { background: #0f0f0f; color: #fff; font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .upload-box { background: #1a1a1a; padding: 40px; border-radius: 20px; border: 2px solid #f39c12; width: 380px; text-align: center; }
        h2 { color: #f39c12; text-transform: uppercase; }
        input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #333; background: #252525; color: white; box-sizing: border-box; }
        .btn { background: #f39c12; color: #000; border: none; padding: 15px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; margin-top: 15px; }
        #status { margin-top: 20px; font-size: 14px; color: #f39c12; }
    </style>
</head>
<body>
    <div class="upload-box">
        <h2>Vektör Yükle</h2>
        <input type="text" id="token" placeholder="GitHub Token (ghp_...)" />
        <input type="text" id="title" placeholder="Tasarım Adı" />
        <input type="file" id="fileInput" multiple />
        <button class="btn" onclick="uploadToGithub()">SİSTEME GÖNDER</button>
        <div id="status"></div>
    </div>

    <script>
        async function uploadToGithub() {
            const token = document.getElementById('token').value;
            const title = document.getElementById('title').value.trim().replace(/\s+/g, '-').toLowerCase();
            const files = document.getElementById('fileInput').files;
            const status = document.getElementById('status');

            if (!token || !title || files.length < 2) {
                status.innerText = "❌ Eksik bilgi veya dosya!";
                return;
            }

            status.innerText = "⏳ Yükleniyor...";
            const OWNER = 'free-vector-stock';
            const REPO = 'free-vector-stock';

            for (let file of files) {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = async () => {
                    const content = reader.result.split(',')[1];
                    const path = `vectors/${title}/${file.name}`;
                    
                    const res = await fetch(`https://api.github.com/repos/${OWNER}/${REPO}/contents/${path}`, {
                        method: 'PUT',
                        headers: { 'Authorization': `token ${token}` },
                        body: JSON.stringify({ message: `Upload: ${title}`, content: content })
                    });

                    status.innerText = res.ok ? "✅ Başarıyla yüklendi!" : "❌ Hata!";
                };
            }
        }
    </script>
</body>
</html>
