<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Admin | Free Vector Stock</title>
    <style>
        body { background: #111; color: white; font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; }
        .box { background: #222; padding: 30px; border: 2px solid #f39c12; border-radius: 15px; width: 350px; text-align: center; }
        input { width: 100%; padding: 10px; margin: 10px 0; background: #333; color: white; border: 1px solid #444; }
        button { background: #f39c12; color: black; border: none; padding: 12px; width: 100%; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
    <div class="box">
        <h2 style="color:#f39c12">Vektör Yükle</h2>
        <input type="text" id="token" placeholder="GitHub Token" />
        <input type="text" id="title" placeholder="Tasarım Adı" />
        <input type="file" id="files" multiple />
        <button onclick="upload()">SİSTEME GÖNDER</button>
        <div id="status" style="margin-top:10px; font-size:12px"></div>
    </div>
    <script>
        async function upload() {
            const token = document.getElementById('token').value;
            const title = document.getElementById('title').value;
            const files = document.getElementById('files').files;
            const status = document.getElementById('status');
            for(let file of files) {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = async () => {
                    const content = reader.result.split(',')[1];
                    const path = `vectors/${title}/${file.name}`;
                    const res = await fetch(`https://api.github.com/repos/hakankacar2014-demir/free-vector-stock/contents/${path}`, {
                        method: 'PUT',
                        headers: { 'Authorization': `token ${token}` },
                        body: JSON.stringify({ message: 'upload', content: content })
                    });
                    status.innerText = res.ok ? "✅ Başarıyla yüklendi!" : "❌ Hata oluştu!";
                };
            }
        }
    </script>
</body>
</html>
