<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FREE VECTOR STOCK | Professional Graphic Archive</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    font-family:'Inter',sans-serif;
    background:#0d0d0d;
    color:#fff;
}
header{
    background:#111;
    padding:30px;
    text-align:center;
}
header h1 a{
    color:#fff;
    text-decoration:none;
}
header h1 a:hover{
    color:#f39c12;
}
.tagline{
    color:#aaa;
}
.container{
    display:flex;
}
.sidebar{
    width:220px;
    background:#111;
    padding:20px;
}
.sidebar h3{
    margin-top:0;
}
.sidebar ul{
    list-style:none;
    padding:0;
}
.sidebar li{
    padding:8px;
    cursor:pointer;
    color:#ccc;
}
.sidebar li:hover{
    color:#f39c12;
}
.content{
    flex:1;
    padding:20px;
}
.search-container input{
    width:100%;
    padding:12px;
    border-radius:30px;
    border:2px solid #333;
    background:#111;
    color:#fff;
    font-size:16px;
}
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
    gap:20px;
    margin-top:20px;
}
.card{
    background:#111;
    padding:10px;
    border-radius:10px;
    cursor:pointer;
    transition:0.3s;
}
.card:hover{
    transform:scale(1.05);
}
.card img{
    width:100%;
    border-radius:8px;
}
.modal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.8);
    justify-content:center;
    align-items:center;
}
.modal-content{
    background:#111;
    padding:20px;
    border-radius:10px;
    max-width:500px;
}
.close{
    float:right;
    cursor:pointer;
    color:#f39c12;
}
</style>
</head>
<body>

<header>
    <h1><a href="index.html">FREE VECTOR STOCK</a></h1>
    <p class="tagline">Explore our massive archive of premium vectors</p>
</header>

<div class="container">
<aside class="sidebar">
<h3>CATEGORIES</h3>
<ul id="category-list">
<li>Loading...</li>
</ul>
</aside>

<main class="content">

<div class="search-container">
<input type="text" id="search-input" placeholder="Search vectors...">
</div>

<div id="vector-grid" class="grid"></div>

<div id="no-results" style="display:none; text-align:center; margin-top:40px; color:#777;">
No vectors found.
</div>

</main>
</div>

<div id="detail-modal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeModal()">X</span>
<div id="modal-body"></div>
</div>
</div>

<script>

const DATA_URL = "admin.json"; // admin.html buraya kaydediyor olmalÄ±

let allVectors = [];
let currentCategory = null;

fetch(DATA_URL)
.then(res => res.json())
.then(data => {

    allVectors = data.vectors || [];

    loadCategories();
    renderVectors(allVectors);

})
.catch(err=>{
    console.error("Data load error:",err);
});

function loadCategories(){

    const list = document.getElementById("category-list");
    list.innerHTML="";

    const categories = [...new Set(allVectors.map(v=>v.category))];

    const allItem = document.createElement("li");
    allItem.textContent="All";
    allItem.onclick=()=>{
        currentCategory=null;
        renderVectors(allVectors);
    };
    list.appendChild(allItem);

    categories.forEach(cat=>{
        const li=document.createElement("li");
        li.textContent=cat;
        li.onclick=()=>{
            currentCategory=cat;
            const filtered=allVectors.filter(v=>v.category===cat);
            renderVectors(filtered);
        };
        list.appendChild(li);
    });
}

function renderVectors(vectors){

    const grid=document.getElementById("vector-grid");
    const noResults=document.getElementById("no-results");

    grid.innerHTML="";

    if(vectors.length===0){
        noResults.style.display="block";
        return;
    }else{
        noResults.style.display="none";
    }

    vectors.forEach(v=>{
        const card=document.createElement("div");
        card.className="card";

        card.innerHTML=`
            <img src="${v.image}" alt="${v.title}">
            <h4>${v.title}</h4>
        `;

        card.onclick=()=>openModal(v);

        grid.appendChild(card);
    });
}

function openModal(v){
    const modal=document.getElementById("detail-modal");
    const body=document.getElementById("modal-body");

    body.innerHTML=`
        <h2>${v.title}</h2>
        <img src="${v.image}" style="width:100%; border-radius:10px;">
        <p><strong>Category:</strong> ${v.category}</p>
        <p><strong>Keywords:</strong> ${v.keywords.join(", ")}</p>
    `;

    modal.style.display="flex";
}

function closeModal(){
    document.getElementById("detail-modal").style.display="none";
}

document.getElementById("search-input").addEventListener("input",function(){

    const q=this.value.toLowerCase();

    let filtered=allVectors.filter(v=>
        v.title.toLowerCase().includes(q) ||
        v.keywords.join(" ").toLowerCase().includes(q)
    );

    if(currentCategory){
        filtered=filtered.filter(v=>v.category===currentCategory);
    }

    renderVectors(filtered);
});

</script>

</body>
</html>
