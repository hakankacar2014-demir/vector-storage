<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Vector Stock | Pro</title>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; text-align: center; margin: 0; padding: 20px; }
        .search-container { margin: 30px auto; max-width: 600px; }
        #searchInput { width: 100%; padding: 15px; border-radius: 30px; border: 2px solid #333; background: #111; color: #fff; outline: none; }
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 25px; max-width: 1200px; margin: 0 auto; }
        .card { background: #111; border: 1px solid #222; padding: 15px; border-radius: 12px; }
        .card img { width: 100%; height: 160px; object-fit: contain; background: #080808; border-radius: 8px; }
        .card-title { color: #f39c12; font-size: 12px; margin: 15px 0; text-transform: uppercase; font-weight: bold; }
        .btn { background: #f39c12; color: #000; padding: 12px; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; width: 100%; }
        .pagination { margin: 40px 0; display: flex; justify-content: center; gap: 8px; }
        .page-btn { background: #111; color: #fff; border: 1px solid #f39c12; padding: 8px 15px; border-radius: 5px; cursor: pointer; }
        .page-btn.active { background: #f39c12; color: #000; }
    </style>
</head>
<body>
    <h1 style="color:#f39c12">FREE VECTOR STOCK</h1>
    <div class="search-container"><input type="text" id="searchInput" placeholder="Search designs..." onkeyup="search()"></div>
    <div id="gallery" class="gallery">Loading database...</div>
    <div id="pagination" class="pagination"></div>

    <script>
        const OWNER = 'free-vector-stock';
        const REPO = 'free-vector-stock';
        let allItems = [], filteredItems = [], currentPage = 1, perPage = 12;

        async function init() {
            try {
                const res = await fetch('vectors.json?t=' + Date.now());
                allItems = await res.json();
                allItems.reverse();
                filteredItems = [...allItems];
                render(1);
            } catch (e) { document.getElementById('gallery').innerText = "Veritabanı bulunamadı. Lütfen vectors.json oluşturun."; }
        }

        function render(page) {
            currentPage = page;
            const gallery = document.getElementById('gallery');
            gallery.innerHTML = '';
            const items = filteredItems.slice((page-1)*perPage, page*perPage);

            items.forEach(name => {
                const img = `https://raw.githubusercontent.com/${OWNER}/${REPO}/main/vectors/${name}/${name}.jpg`;
                const eps = `https://raw.githubusercontent.com/${OWNER}/${REPO}/main/vectors/${name}/${name}.eps`;
                gallery.innerHTML += `<div class="card">
                    <img src="${img}" onerror="this.src='https://via.placeholder.com/240x160?text=Pending'">
                    <div class="card-title">${name.replace(/-/g, ' ')}</div>
                    <button class="btn" onclick="dl('${eps}', '${name}.eps')">DOWNLOAD EPS</button>
                </div>`;
            });
            setupPages();
        }

        function search() {
            const q = document.getElementById('searchInput').value.toLowerCase();
            filteredItems = allItems.filter(n => n.toLowerCase().includes(q));
            render(1);
        }

        function setupPages() {
            const p = document.getElementById('pagination');
            const total = Math.ceil(filteredItems.length / perPage);
            p.innerHTML = '';
            if(total <= 1) return;
            for(let i=1; i<=total; i++) {
                p.innerHTML += `<button class="page-btn ${i===currentPage?'active':''}" onclick="render(${i})">${i}</button>`;
            }
        }

        async function dl(url, name) {
            const res = await fetch(url);
            const blob = await res.blob();
            const a = document.createElement('a');
            a.href = window.URL.createObjectURL(blob);
            a.download = name;
            a.click();
        }
        init();
    </script>
</body>
</html>
